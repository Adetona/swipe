{"absId":"rave@0.4.3/lib/createMapper","pluginId":"curl/loader/cjsm11","resourceId":"rave@0.4.3/lib/createMapper","loader":true,"source":"define('rave@0.4.3/lib/createMapper',['require','exports','module'],function(require,exports,module,define){/** @license MIT License (c) copyright 2014 original authors */\n/** @author Karolis Narkevicius */\nvar metadata = require('./metadata');\nvar path = require('./path');\n\nmodule.exports = createMapper;\n\nfunction createMapper (context) {\n\tvar packages;\n\n\tpackages = context.packages;\n\n\treturn function (normalizedName, refUid) {\n\t\tvar refPkg, mappedId;\n\n\t\trefPkg = metadata.findPackage(packages, refUid);\n\n\t\tif (refPkg.mapFunc) {\n\t\t\tmappedId = refPkg.mapFunc(normalizedName);\n\t\t}\n\t\telse if (refPkg.map) {\n\t\t\tif (normalizedName in refPkg.map) {\n\t\t\t\tmappedId = refPkg.map[normalizedName];\n\t\t\t}\n\t\t}\n\n\t\t// mappedId can be undefined, false, or a string\n\t\t// undefined === no mapping, return original id\n\t\t// false === do not load a module by this id, use blank module\n\t\t// string === module id was mapped, return mapped id\n\t\treturn typeof mappedId === 'undefined'\n\t\t\t? normalizedName\n\t\t\t: mappedId === false\n\t\t\t\t? 'rave/lib/blank'\n\t\t\t\t: mappedId;\n\t};\n}\n\n});\n\n","modules":[{"pos":0,"count":107,"id":"rave@0.4.3/lib/createMapper","depList":["require","exports","module"],"factory":true,"argList":["require","exports","module","define"],"requires":[{"id":"rave@0.4.3/lib/metadata","pos":222,"count":21},{"id":"rave@0.4.3/lib/path","pos":256,"count":17}]}],"compileTime":"2014-11-17T20:58:47.373Z"}